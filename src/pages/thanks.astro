---
import DarkModeButton from "../components/DarkModeButton.astro";
import LightLogo from "/assets/logos/light-logo.png";
---

<header data-darkmode class="flex justify-around items-center my-4">
  <img
    class="w-logo-header-clamp"
    id="header-logo"
    src={LightLogo}
    alt="Logotipo"
  />
  <DarkModeButton />
</header>

<script>
  const switchButton = document.getElementById("switch") as HTMLInputElement;

  // Load the dark mode state from localStorage
  const darkMode = localStorage.getItem("darkMode") === "true";
  switchButton.checked = darkMode;
  document.documentElement.classList.toggle("dark", darkMode);

  switchButton.addEventListener("change", function () {
    // Save the dark mode state to localStorage
    localStorage.setItem("darkMode", String(this.checked));
    document.documentElement.classList.toggle("dark", this.checked);
  });
</script>
